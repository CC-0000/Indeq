syntax = "proto3";

option go_package = "github.com/cc-0000/indeq/common/api";

package api;

service IntegrationService {
    rpc ConnectIntegration(ConnectIntegrationRequest) returns (ConnectIntegrationResponse);
    rpc DisconnectIntegration(DisconnectIntegrationRequest) returns (DisconnectIntegrationResponse);
}

enum Provider {
    GOOGLE = 0;
    MICROSOFT = 1;
    NOTION = 2;
}

message ConnectIntegrationRequest {
    Provider provider = 1;
    string auth_code = 2;
}

message ConnectIntegrationResponse {
    bool success = 1;
    string message = 2;
    string error_details = 3;
}

message DisconnectIntegrationRequest {
    Provider provider = 1;
}

message DisconnectIntegrationResponse {
    bool success = 1;
    string message = 2;
}
